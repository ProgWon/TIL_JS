HTML 문서의 구성 요소인 HTML 요소는 여러 개의 어트리뷰트를 가지는 것이 가능합니다. 그리고 이 HTML 어트리뷰트는 요소의 동작을 제어하기 위해서 추가적인 정보를 제공합니다.

HTML 문서가 파싱될 때는 HTML 요소의 어트리뷰트는 어트리뷰트 노드로 변환되어 요소 노드와 연결됩니다. 이때 어트리뷰트 하나당 하나의 어트리뷰트가 생성되므로 위와 같은 코드에서는 3개의 어트리뷰트 노드가 생성된다고 볼 수 있습니다.

이때 모든 어트리뷰트 노드의 참조는 유사 배열 객체이자 이터러블인 NamedNodeMap 객체에 담겨 요소 노드의 attributes 프로퍼티에 저장되게 됩니다.

하지만 요소 노드 객체는 HTML 어트리뷰트에 대응하는 프로퍼티가 존재합니다. 이를 DOM 프로퍼티라고 합니다. 이 DOM 프로퍼티들은 HTML 어트리뷰트 값을 초기값으로 가지고 있습니다.

위 코드의 경우 id, type, value 어트리뷰트에 대응하는 id, type, value 프로퍼티가 존재하고 이는 초기값으로 HTML 어트리뷰트의 값을 초기값으로 가지고 있습니다.

그렇다면, 마치 HTML 어트리뷰트가 다음과 같이 DOM 에서 중복 관리하는 것처럼 보입니다.

먼저 요소 노드의 attributes 프로퍼티에서도 어트리뷰트 노드들을 관리하고 있습니다. 그리고 HTML 어트리뷰트에 대응하는 요소 노드의 프로퍼티인 DOM 프로퍼티에서도 관리하고 있습니다.

하지만 이 둘은 중복 관리된다고 할 수 없습니다. 그 이유는 서로의 역할이 다르기 때문입니다.

HTML 어트리뷰트의 역할은 HTML 요소의 초기 상태를 지정합니다. 즉, HTML 어트리뷰트의 값은 HTML 요소의 초기 상태이며 이는 setAttribute 메서드를 써서 변경하지 않는 이상 변하지 않습니다.

하지만 DOM 프로퍼티는 요소 노드의 최신 상태를 관리합니다. 첫 렌더링 이후에 사용자가 input 요소에 무언가를 입력하기 시작하면 DOM 프로퍼티의 값은 변경되게 됩니다.

사용자에 의해서 변경되는 최신 상태를 관리해야 하고 초기 상태도 관리해야 하기 때문에 2개의 상태를 관리해야 합니다.

만약 초기 상태를 관리하지 않는다면 웹페이지를 처음 표시하거나, 새로고침시에 표시할 초기 상태를 표현할 수 없기 때문입니다.

결론적으로 이 둘은 중복 관리되고 있는 것이 아니라 별개의 상태, 초기 상태와 최신 상태 2개의 상태로 관리되고 있다는 것으로 볼 수 있습니다.

주의할 점은 언제나 HTML 어트리뷰트와 DOM 프로퍼티가 1:1 로 대응하는 것은 아닙니다.

id 와 같은 어트리뷰트의 경우 id 프로퍼티와 1:1로 대응하지만, 예를 들어 class 어트라뷰트에 대응하는 DOM 프로퍼티는 class 가 아니라 className 과 classList 입니다. 이는 JS 에서의 class 가 예약어이기 때문입니다.
